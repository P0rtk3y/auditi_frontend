{"ast":null,"code":"import{resetSignupForm}from'./signupForm';import{resetLoginForm}from'./loginForm';import{getMyAudiocards}from'./myAudioCards';import{clearAudiocards}from'./myAudioCards';//synchronous action creators\nexport var setCurrentUser=function setCurrentUser(user){return{type:\"SET_CURRENT_USER\",user:user};};export var clearCurrentUser=function clearCurrentUser(){return{type:\"CLEAR_CURRENT_USER\"};};//asynchronous action creators\nexport var login=function login(credentials){return function(dispatch){return fetch(\"http://localhost:3000/api/v1/login\",{credentials:\"include\",method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(credentials)}).then(function(resp){return resp.json();}).then(function(user){if(user.error){alert(user.error);}else{dispatch(setCurrentUser(user.data));dispatch(getMyAudiocards());dispatch(resetLoginForm());}}).catch(console.log);};};export var signup=function signup(credentials){return function(dispatch){var userInfo={user:credentials};return fetch(\"http://localhost:3000/api/v1/signup\",{credentials:\"include\",method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userInfo)}).then(function(resp){return resp.json();}).then(function(user){if(user.error){alert(user.error);}else{dispatch(setCurrentUser(user.data));dispatch(resetSignupForm());}}).catch(console.log);};};export var getCurrentUser=function getCurrentUser(){return function(dispatch){return fetch(\"http://localhost:3000/api/v1/get_current_user\",{credentials:\"include\",method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(resp){return resp.json();}).then(function(response){if(response.error){alert(response.error);}else{dispatch(setCurrentUser(response.data));dispatch(getMyAudiocards());}}).catch(console.log);};};export var logout=function logout(e){return function(dispatch){dispatch(clearCurrentUser());dispatch(clearAudiocards());return fetch('http://localhost:3000/api/v1/logout',{credentials:\"include\",method:\"DELETE\"});};};","map":{"version":3,"sources":["/Users/skout/Desktop/Auditi/auditi_frontend/src/actions/currentUser.js"],"names":["resetSignupForm","resetLoginForm","getMyAudiocards","clearAudiocards","setCurrentUser","user","type","clearCurrentUser","login","credentials","dispatch","fetch","method","headers","body","JSON","stringify","then","resp","json","error","alert","data","catch","console","log","signup","userInfo","getCurrentUser","response","logout","e"],"mappings":"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","sourcesContent":["import {resetSignupForm} from './signupForm'\nimport {resetLoginForm} from './loginForm'\nimport {getMyAudiocards} from './myAudioCards'\nimport {clearAudiocards} from './myAudioCards'\n\n//synchronous action creators\nexport const setCurrentUser = user => {\n    return {\n        type: \"SET_CURRENT_USER\",\n        user\n    }\n}\n\nexport const clearCurrentUser = () => {\n    return {\n        type: \"CLEAR_CURRENT_USER\"\n    }\n}\n\n\n//asynchronous action creators\nexport const login = credentials => {\n    return dispatch => {\n        return fetch(\"http://localhost:3000/api/v1/login\", {\n            credentials: \"include\",\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        })\n            .then(resp => resp.json())\n            .then(user => {\n                if (user.error){\n                    alert(user.error)\n                } else {\n                    dispatch(setCurrentUser(user.data))\n                    dispatch(getMyAudiocards())\n                    dispatch(resetLoginForm())\n                }\n            })\n            .catch(console.log)\n    }\n}\n\nexport const signup = credentials => {\n    return dispatch => {\n        const userInfo = {\n            user: credentials\n        }\n        return fetch(\"http://localhost:3000/api/v1/signup\", {\n            credentials: \"include\",\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(userInfo)\n        })\n        .then(resp => resp.json())\n        .then(user => {\n            if(user.error){\n                alert(user.error)\n            } else {\n                dispatch(setCurrentUser(user.data))\n                dispatch(resetSignupForm())\n            }\n        })\n        .catch(console.log)\n    }\n}\n\nexport const getCurrentUser = () => {\n    return dispatch => {\n        return fetch(\"http://localhost:3000/api/v1/get_current_user\", {\n            credentials: \"include\",\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n        })\n            .then(resp => resp.json())\n            .then(response => {\n                if (response.error){\n                    alert(response.error)\n                } else {\n                    dispatch(setCurrentUser(response.data))\n                    dispatch(getMyAudiocards())\n                }\n            })\n            .catch(console.log)\n    }\n}\n\nexport const logout = e => {\n    return dispatch => {\n        dispatch(clearCurrentUser())\n        dispatch((clearAudiocards()))\n        return fetch('http://localhost:3000/api/v1/logout', {\n            credentials: \"include\", \n            method: \"DELETE\"\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}