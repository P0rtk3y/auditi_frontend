{"ast":null,"code":"var _jsxFileName = \"/Users/skout/Desktop/Auditi/auditi_frontend/src/components/Audiocard.js\";\nimport React from 'react';\nimport { Image, Card, Grid, Icon, Label } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport Tags from './Tags';\nimport OnEvent from 'react-onevent'; // import Pizzicato from 'pizzicato'\n\nimport { confirmDelete, deleteAudiocard, editAudiocard, confirmEdit } from '../actions/myAudioCards';\n\nconst Audiocard = ({\n  audiocard,\n  confirmDelete,\n  deleteAudiocard,\n  editAudiocard,\n  confirmEdit\n}) => {\n  let newDate = '';\n\n  if (audiocard.attributes.created_at) {\n    let convertDate = audiocard.attributes.created_at.split('T')[0].split('-');\n    newDate = new Date(convertDate).toDateString();\n  } //play on hover\n\n\n  const playRecording = () => {\n    console.log(\"PLAYING RECORDING\");\n    console.log(audiocard.attributes.soundfile);\n\n    if (audiocard.attributes.soundfile) {\n      let blob = new Blob(audiocard.attributes.soundfile, {\n        type: 'audio/wav'\n      });\n      let url = window.URL.createObjectURL(blob);\n      window.audio = new Audio();\n      window.audio.src = url;\n      window.audio.play();\n      return audiocard.attributes.soundfile.play();\n    }\n  };\n\n  const tags = JSON.parse(audiocard.attributes.tags);\n  const getTags = tags.map((tag, index) => /*#__PURE__*/React.createElement(Tags, {\n    tag: tag,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }));\n\n  const handleDeleteClick = e => {\n    confirmDelete(audiocard.id);\n    deleteAudiocard(audiocard.id);\n  };\n\n  const addColor = category => {\n    switch (category) {\n      case \"quotes\":\n        return \"#AECBDF\";\n\n      case \"music\":\n        return \"#DFC2AE\";\n\n      case \"nature\":\n        return \"#AEDFC1\";\n\n      case \"Personal\":\n        return \"#DFB3AE\";\n\n      case \"joke\":\n        return \"#C99EDB\";\n\n      case \"health\":\n        return \"#DA9333\";\n\n      default:\n        return \"#AEDFD5\";\n    }\n  };\n\n  const modifyCardContent = id => {\n    let oldHeader = audiocard.attributes.soundster;\n    let modifyCard = document.querySelector(`div.header.header-${id}`);\n    modifyCard.setAttribute('contenteditable', 'true');\n    let newHeader = modifyCard.innerHTML;\n\n    if (oldHeader !== newHeader) {\n      audiocard.attributes.soundster = newHeader;\n      confirmEdit(audiocard);\n      editAudiocard(audiocard);\n    }\n  };\n\n  const addFavorite = e => {\n    return 'blue';\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    color: \"olive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    fluid: true,\n    src: audiocard.attributes.image,\n    onMouseEnter: () => playRecording(),\n    label: {\n      as: 'rating',\n      className: `rating-${audiocard.id}`,\n      icon: 'favorite onClick=e=>addFavorite()',\n      corner: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Card.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: `header-${audiocard.id}`,\n    onClick: e => modifyCardContent(audiocard.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, audiocard.attributes.soundster), /*#__PURE__*/React.createElement(Card.Meta, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, \"Created on \", newDate)), /*#__PURE__*/React.createElement(Card.Description, {\n    style: {\n      color: addColor(audiocard.attributes.category)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"(\", audiocard.attributes.category, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Content, {\n    extra: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Row, {\n    column: 2,\n    className: \"tag-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, getTags)))), /*#__PURE__*/React.createElement(Icon, {\n    name: \"times circle\",\n    color: \"yellow\",\n    className: \"deleteIcon\",\n    onClick: handleDeleteClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }));\n};\n\nexport default connect(null, {\n  confirmDelete,\n  deleteAudiocard,\n  editAudiocard,\n  confirmEdit\n})(Audiocard);","map":{"version":3,"sources":["/Users/skout/Desktop/Auditi/auditi_frontend/src/components/Audiocard.js"],"names":["React","Image","Card","Grid","Icon","Label","connect","Tags","OnEvent","confirmDelete","deleteAudiocard","editAudiocard","confirmEdit","Audiocard","audiocard","newDate","attributes","created_at","convertDate","split","Date","toDateString","playRecording","console","log","soundfile","blob","Blob","type","url","window","URL","createObjectURL","audio","Audio","src","play","tags","JSON","parse","getTags","map","tag","index","handleDeleteClick","e","id","addColor","category","modifyCardContent","oldHeader","soundster","modifyCard","document","querySelector","setAttribute","newHeader","innerHTML","addFavorite","image","as","className","icon","corner","color"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Image, Card, Grid, Icon, Label } from 'semantic-ui-react';\nimport { connect } from 'react-redux'\nimport Tags from './Tags'\nimport OnEvent from 'react-onevent'\n// import Pizzicato from 'pizzicato'\nimport {confirmDelete, deleteAudiocard, editAudiocard, confirmEdit} from '../actions/myAudioCards'\n\nconst Audiocard = ({audiocard, confirmDelete, deleteAudiocard, editAudiocard, confirmEdit}) => {\n\n    let newDate = ''\n    if (audiocard.attributes.created_at){\n        let convertDate = audiocard.attributes.created_at.split('T')[0].split('-')\n        newDate = new Date(convertDate).toDateString()\n    }\n\n    //play on hover\n    const playRecording = () => {\n        console.log(\"PLAYING RECORDING\")\n        console.log(audiocard.attributes.soundfile)\n        if(audiocard.attributes.soundfile){\n            let blob = new Blob(audiocard.attributes.soundfile, {type: 'audio/wav'})\n            let url = window.URL.createObjectURL(blob)\n            window.audio = new Audio()\n            window.audio.src = url \n            window.audio.play()\n            return audiocard.attributes.soundfile.play()\n        }\n    }\n\n    const tags = JSON.parse(audiocard.attributes.tags)\n\n    const getTags = tags.map((tag, index) => \n        <Tags tag={tag} key={index} />\n    )\n\n    const handleDeleteClick = e => {\n        confirmDelete(audiocard.id)\n        deleteAudiocard(audiocard.id)\n    }\n\n    const addColor = (category) => {\n        switch(category){\n            case \"quotes\":\n                return \"#AECBDF\"\n            case \"music\":\n                return \"#DFC2AE\"\n            case \"nature\":\n                return \"#AEDFC1\"\n            case \"Personal\":\n                return \"#DFB3AE\"\n            case \"joke\":\n                return \"#C99EDB\"\n            case \"health\":\n                return \"#DA9333\"\n            default:\n                return \"#AEDFD5\"\n        }\n    }\n\n    const modifyCardContent = (id) => {\n        let oldHeader = audiocard.attributes.soundster\n        let modifyCard = document.querySelector(`div.header.header-${id}`)\n            modifyCard.setAttribute('contenteditable', 'true')\n        let newHeader = modifyCard.innerHTML\n\n        if(oldHeader !== newHeader){\n            audiocard.attributes.soundster = newHeader\n            confirmEdit(audiocard)\n            editAudiocard(audiocard)\n        }\n    }\n\n    const addFavorite = e => {\n       return 'blue'\n    }\n\n\n        return (\n                <Card color=\"olive\">\n                    <Image \n                        fluid\n                        src={audiocard.attributes.image} \n                        onMouseEnter={() => playRecording()}\n                        label={{as: 'rating', className:`rating-${audiocard.id}`, icon: 'favorite onClick=e=>addFavorite()', corner: 'left'}}\n                    />\n                    <Card.Content>\n                        <Card.Header className={`header-${audiocard.id}`} onClick={e => modifyCardContent(audiocard.id)}>{audiocard.attributes.soundster}</Card.Header>\n                        <Card.Meta>\n                            <span className='date'>Created on {newDate}</span>\n                        </Card.Meta>\n                        <Card.Description style={{color:addColor(audiocard.attributes.category)}}>\n                            ({audiocard.attributes.category})\n                        </Card.Description>\n                    </Card.Content>\n                    <div className='icon-container'>\n                        <Card.Content extra>\n                            <Grid>\n                                <Grid.Row column={2} className='tag-button-container'>\n                                    {getTags}\n                                </Grid.Row>\n                            </Grid>\n                        </Card.Content>\n                    </div>\n                    <Icon name=\"times circle\" color='yellow' className='deleteIcon' onClick={handleDeleteClick}/>\n                </Card>\n        )\n}\n\n\nexport default connect(null, {confirmDelete, deleteAudiocard, editAudiocard, confirmEdit})(Audiocard)"]},"metadata":{},"sourceType":"module"}