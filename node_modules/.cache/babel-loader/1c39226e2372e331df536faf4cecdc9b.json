{"ast":null,"code":"var _jsxFileName = \"/Users/skout/Desktop/Auditi/auditi_frontend/src/components/Recorder.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Icon, Form, Dropdown, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { ReactMic } from 'react-mic';\nimport Pizzicato from 'pizzicato';\nimport OnEvent from 'react-onevent';\nimport { updateAudioForm } from '../actions/audioForm.js';\n\nclass Recorder extends React.Component {\n  constructor(props) {\n    super();\n\n    this.startRecording = () => {\n      this.setState({\n        record: true\n      });\n    };\n\n    this.stopRecording = () => {\n      this.setState({\n        record: false\n      });\n    };\n\n    this.playRecording = () => {\n      if (this.state.soundfile) {\n        this.state.soundfile.play();\n      }\n    };\n\n    this.onStop = recordedBlob => {\n      const getSound = new Pizzicato.Sound({\n        source: 'wave',\n        options: {\n          path: [recordedBlob.blobURL]\n        }\n      }, () => {\n        let file = new Audio();\n        file.src = recordedBlob.blobURL;\n        this.setState({\n          soundfile: file\n        });\n      });\n      console.log('recordedBlob is: ', recordedBlob);\n    };\n\n    this.addTag = e => {\n      let newNoSpaceTag = `#${e.target.value.trim()}`;\n\n      if (!this.state.tags.includes(newNoSpaceTag)) {\n        this.setState({\n          tags: [...this.state.tags, newNoSpaceTag]\n        });\n      }\n\n      this.newTag = '';\n      console.log(this.state.tags);\n    };\n\n    this.newTag = e => {\n      let value = e.target.value;\n\n      if (value === '') {\n        return;\n      } else {\n        this.setState({\n          newTag: value\n        });\n      }\n\n      console.log(this.state.newTag);\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      updateAudioForm(name, value);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.state = {\n      record: false,\n      soundfile: '',\n      tags: [],\n      newTag: ''\n    };\n  } //Recording Methods\n\n\n  render() {\n    //animate gears \n    const rotateGears = e => {\n      document.querySelector('.gear1').style.animation = \"rotation 8s infinite linear\";\n      document.querySelector('.gear2').style.animation = \"rotation 8s infinite linear\";\n      this.startRecording();\n    };\n\n    const stopGears = e => {\n      document.querySelector('.gear1').style.animation = \"\";\n      document.querySelector('.gear2').style.animation = \"\";\n      this.stopRecording();\n    };\n\n    const playGears = e => {\n      document.querySelector('.gear1').style.animation = \"rotation 8s infinite linear\";\n      document.querySelector('.gear2').style.animation = \"rotation 8s infinite linear\";\n      this.playRecording();\n    }; //options for category input\n\n\n    const categoryOptions = [{\n      key: 1,\n      text: 'Quotes',\n      value: 'quotes',\n      icon: 'book'\n    }, {\n      key: 2,\n      text: 'Music',\n      value: 'music',\n      icon: 'music'\n    }, {\n      key: 3,\n      text: 'Nature',\n      value: 'nature',\n      icon: 'leaf'\n    }, {\n      key: 4,\n      text: 'Joke',\n      value: 'joke',\n      icon: 'smile'\n    }, {\n      key: 5,\n      text: 'Health',\n      value: 'health',\n      icon: 'hand spock'\n    }, {\n      key: 6,\n      text: 'Personal',\n      value: 'personal',\n      icon: 'user secret'\n    }, {\n      key: 7,\n      text: 'Mechanical',\n      value: 'mechanical',\n      icon: 'wrench'\n    }, {\n      key: 8,\n      text: 'Other',\n      value: 'other',\n      icon: 'find'\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainRecContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"soundsterForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cassette\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gear1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gear2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"soundsterContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"soundster-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      className: \"soundster-input-box\",\n      placeholder: \"Who's the soundster?\",\n      name: \"soundster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"category-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Select, {\n      onChange: this.handleChange,\n      options: categoryOptions,\n      placeholder: \"Category\",\n      name: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tag-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(OnEvent, {\n      space: this.addTag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      onChange: this.newTag,\n      placeholder: \"Add tags\",\n      name: \"add tags\",\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    }), this.state.tags.map((tag, index) => {\n      return /*#__PURE__*/React.createElement(Button, {\n        icon: true,\n        name: \"delete\",\n        key: \"index\",\n        labelPosition: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 52\n        }\n      }, tag, /*#__PURE__*/React.createElement(Icon, {\n        name: \"delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 57\n        }\n      }));\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recordingContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ReactMic, {\n      record: this.state.record,\n      className: \"sound-wave\",\n      onStop: this.onStop,\n      strokeColor: \"#D4E6D7\",\n      backgroundColor: \"#8FC6B4\",\n      duration: 25,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"recorderButtons\",\n      style: {\n        margin: \"10px 0px 10px 420px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Button, {\n      className: \"recordButton\",\n      color: \"olive\",\n      onClick: rotateGears,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"microphone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 29\n      }\n    }), \"Record\"), /*#__PURE__*/React.createElement(Form.Button, {\n      className: \"stopButton\",\n      onClick: stopGears,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"stop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }), \"Stop\"), /*#__PURE__*/React.createElement(Form.Button, {\n      className: \"playButton\",\n      onClick: playGears,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"play\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 29\n      }\n    }), \"Play\"), /*#__PURE__*/React.createElement(Form.Button, {\n      type: \"Submit\",\n      className: \"saveButton\",\n      color: \"orange\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"paper plane outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 29\n      }\n    }), \"Save\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const userId = state.currentUser ? state.currentUser.id : \"\";\n  return {\n    audioForm: state.audioForm,\n    userId\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateAudioForm\n})(Recorder);","map":{"version":3,"sources":["/Users/skout/Desktop/Auditi/auditi_frontend/src/components/Recorder.js"],"names":["React","connect","Icon","Form","Dropdown","Button","Link","ReactMic","Pizzicato","OnEvent","updateAudioForm","Recorder","Component","constructor","props","startRecording","setState","record","stopRecording","playRecording","state","soundfile","play","onStop","recordedBlob","getSound","Sound","source","options","path","blobURL","file","Audio","src","console","log","addTag","e","newNoSpaceTag","target","value","trim","tags","includes","newTag","handleChange","name","handleSubmit","preventDefault","render","rotateGears","document","querySelector","style","animation","stopGears","playGears","categoryOptions","key","text","icon","map","tag","index","margin","mapStateToProps","userId","currentUser","id","audioForm"],"mappings":"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","sourcesContent":["\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Icon, Form, Dropdown, Button} from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport { ReactMic } from 'react-mic'\nimport Pizzicato from 'pizzicato'\nimport OnEvent from 'react-onevent'\nimport { updateAudioForm } from '../actions/audioForm.js'\n\n\nclass Recorder extends React.Component {\n    constructor(props) {\n      super();\n      this.state = {\n        record: false,\n        soundfile: '',\n        tags: [],\n        newTag: ''\n        }\n      }\n    \n    //Recording Methods\n    startRecording = () => {\n      this.setState({\n        record: true\n      });\n\n    }\n   \n    stopRecording = () => {\n      this.setState({\n        record: false\n      });\n    }\n\n    playRecording = () => {\n        if (this.state.soundfile){\n           this.state.soundfile.play()\n        }\n        \n    }\n\n    onStop = (recordedBlob) => {\n        const getSound = new Pizzicato.Sound({\n            source: 'wave',\n            options: {path: [recordedBlob.blobURL]}\n        }, () => {\n            let file = new Audio()\n            file.src = recordedBlob.blobURL\n            this.setState({soundfile: file})\n        })\n      console.log('recordedBlob is: ', recordedBlob);\n    }\n\n    // Tag input methods\n\n    addTag = e => {\n    \n\n        let newNoSpaceTag = `#${e.target.value.trim()}`\n\n        if(!this.state.tags.includes(newNoSpaceTag)){\n            this.setState({\n                tags: [...this.state.tags, newNoSpaceTag]\n            })\n        }\n        this.newTag = ''\n        console.log(this.state.tags)   \n    }\n\n    newTag = e => {\n        let value = e.target.value\n        if(value === ''){\n            return\n        } else {\n            this.setState({\n                newTag: value\n            })\n        }\n        console.log(this.state.newTag)\n    }\n\n    handleChange = e => {\n        const {name, value} = e.target \n        updateAudioForm(name, value)\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n    }\n\n   \n    \n    render(){\n\n        //animate gears \n        const rotateGears = e => {\n            document.querySelector('.gear1').style.animation = \"rotation 8s infinite linear\"\n            document.querySelector('.gear2').style.animation = \"rotation 8s infinite linear\"\n            this.startRecording()\n        }\n\n        const stopGears = e => {\n            document.querySelector('.gear1').style.animation = \"\"\n            document.querySelector('.gear2').style.animation = \"\"\n            this.stopRecording()\n        }\n\n        const playGears = e => {\n            document.querySelector('.gear1').style.animation = \"rotation 8s infinite linear\"\n            document.querySelector('.gear2').style.animation = \"rotation 8s infinite linear\"\n            this.playRecording()\n        }\n\n\n        //options for category input\n        const categoryOptions = [\n            { key:1, text: 'Quotes', value: 'quotes', icon: 'book'},\n            { key:2, text: 'Music', value: 'music', icon: 'music'},\n            { key:3, text: 'Nature', value: 'nature', icon: 'leaf'},\n            { key:4, text: 'Joke', value: 'joke', icon: 'smile'},\n            { key:5, text: 'Health', value: 'health', icon: 'hand spock'},\n            { key:6, text: 'Personal', value: 'personal', icon: 'user secret'},\n            { key:7, text: 'Mechanical', value: 'mechanical', icon: 'wrench'},\n            { key:8, text: 'Other', value: 'other', icon: 'find'},\n        ]\n\n        return (\n            <div className='mainRecContainer'>\n                <Form className='soundsterForm' onSubmit={this.handleSubmit}> \n                    <div className='cassette'>\n                        <div className='gear1'>\n                            <span className='helper'></span>\n                        </div>\n                        <div className='gear2'>\n                            <span className='helper'></span>\n                        </div>\n                        <div className='soundsterContainer'>\n                            <div className='soundster-input'>\n                                <Form.Input onChange={this.handleChange}\n                                    className=\"soundster-input-box\"\n                                    placeholder=\"Who's the soundster?\"\n                                    name='soundster'\n                                />\n                            </div>\n                            <div className='category-input'>\n                                <Form.Select onChange={this.handleChange} \n                                    options={categoryOptions}\n                                    placeholder=\"Category\"\n                                    name='category' \n                                />\n                            </div>\n                            <div className='tag-input'>\n                                <OnEvent space={this.addTag}>\n                                    <Form.Input\n                                        onChange={this.newTag}\n                                        placeholder=\"Add tags\"\n                                        name='add tags'\n                            \n                                        fluid\n                                    >\n                                        <input />\n                                        {this.state.tags.map((tag, index) => {\n                                            return <Button\n                                                    icon name='delete'\n                                                    key='index'\n                                                    labelPosition='right'\n                                                    >{tag}\n                                                        <Icon name='delete' />\n                                                    </Button>\n                                        })}\n                                    </Form.Input>\n                                </OnEvent>\n                            </div>\n                        </div>\n                        \n                    </div>\n                    <div className='recordingContainer'>\n                        <ReactMic\n                            record={this.state.record}\n                            className=\"sound-wave\"\n                            onStop={this.onStop}\n                            strokeColor=\"#D4E6D7\"\n                            backgroundColor=\"#8FC6B4\" \n                            duration={25}\n                            />\n                    </div>\n                    <Form.Group className=\"recorderButtons\" style={{margin: \"10px 0px 10px 420px\"}}>\n                        <Form.Button className='recordButton' color=\"olive\" onClick={rotateGears}>\n                            <Icon name='microphone' />\n                            Record \n                        </Form.Button>\n                        <Form.Button className='stopButton' onClick={stopGears}>\n                            <Icon name='stop' />\n                            Stop   \n                        </Form.Button>\n                        <Form.Button className='playButton' onClick={playGears}>\n                            <Icon name='play' />\n                            Play\n                        </Form.Button>\n                        <Form.Button type='Submit' className= 'saveButton' color=\"orange\">\n                            <Icon name='paper plane outline' />\n                            Save\n                        </Form.Button>\n                    </Form.Group>\n                </Form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const userId = state.currentUser ? state.currentUser.id : \"\"\n    return {\n        audioForm: state.audioForm,\n        userId\n    }\n}\n\nexport default connect(mapStateToProps, {updateAudioForm})(Recorder)"]},"metadata":{},"sourceType":"module"}